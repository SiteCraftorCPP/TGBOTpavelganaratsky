# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: LIFTme-Bot

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

Telegram-–±–æ—Ç LIFTme –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫ –ø—Å–∏—Ö–æ–ª–æ–≥—É —Å –≤–µ–±-–∞–¥–º–∏–Ω–∫–æ–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –≤–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ —Ç–µ—Ä–∞–ø–∏–∏, –æ–ø–ª–∞—Ç—É –∏ SOS-—Å–≤—è–∑—å.

---

## 2. –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### Backend:
- **Supabase** (PostgreSQL + Edge Functions)
- **Deno** –¥–ª—è Edge Functions
- **Telegram Bot API**

### Frontend (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å):
- **React 18** + **TypeScript**
- **Vite** (—Å–±–æ—Ä—â–∏–∫)
- **Tailwind CSS** + **shadcn/ui** (UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- **TanStack Query** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏)
- **date-fns** (—Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏)
- **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

---

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `clients`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| telegram_id | bigint | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| first_name | text | –ò–º—è |
| last_name | text | –§–∞–º–∏–ª–∏—è |
| username | text | Username –≤ Telegram |
| created_at | timestamp | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |

### –¢–∞–±–ª–∏—Ü–∞ `slots`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| date | date | –î–∞—Ç–∞ —Å–ª–æ—Ç–∞ |
| time | time | –í—Ä–µ–º—è —Å–ª–æ—Ç–∞ |
| status | enum (free/booked) | –°—Ç–∞—Ç—É—Å |
| client_id | uuid (FK ‚Üí clients) | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| format | text | –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: online/offline |
| available_formats | text | –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: online/offline/both |
| comment | text | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_at | timestamp | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `bookings`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| client_id | uuid (FK ‚Üí clients) | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| slot_id | uuid (FK ‚Üí slots) | ID —Å–ª–æ—Ç–∞ |
| status | enum (active/canceled/completed) | –°—Ç–∞—Ç—É—Å |
| reminder_24h_sent | boolean | –§–ª–∞–≥ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 24—á |
| reminder_1h_sent | boolean | –§–ª–∞–≥ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 1—á |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `diary_entries`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| client_id | uuid (FK ‚Üí clients) | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| text | text | –¢–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏ |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `sos_requests`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| client_id | uuid (FK ‚Üí clients) | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| text | text | –¢–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è |
| status | enum (new/viewed) | –°—Ç–∞—Ç—É—Å |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `payments`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| client_id | uuid (FK ‚Üí clients) | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| screenshot_url | text | URL —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `bot_settings`
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | uuid (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| key | text (unique) | –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| value | jsonb | –ó–Ω–∞—á–µ–Ω–∏–µ (—Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤, –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –∏ —Ç.–¥.) |
| created_at | timestamp | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_at | timestamp | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### Storage bucket `payments`
- –ü—É–±–ª–∏—á–Ω—ã–π –±–∞–∫–µ—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –æ–ø–ª–∞—Ç—ã

---

## 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Telegram-–±–æ—Ç–∞

### 4.1 –ö–æ–º–∞–Ω–¥—ã
- `/start`, `/menu` ‚Äî –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### 4.2 –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)
```
üóì –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
üìÅ –°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã | üóì –ú–æ—è –∑–∞–ø–∏—Å—å
üìí –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ | üí≥ –û–ø–ª–∞—Ç–∞
üÜò SOS
üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞, –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–±-–ø–∞–Ω–µ–ª—å)
```

### 4.3 –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é (–¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –≤—ã–±–æ—Ä)
1. **–®–∞–≥ 1: –í—ã–±–æ—Ä –¥–Ω—è** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞—Ç
2. **–®–∞–≥ 2: –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ª–æ—Ç—ã –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É —Å –∏–∫–æ–Ω–∫–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞
3. **–®–∞–≥ 3: –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞** ‚Äî ¬´üè† –û—á–Ω–æ¬ª –∏–ª–∏ ¬´üíª –û–Ω–ª–∞–π–Ω¬ª (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç available_formats)
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É** –æ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏

### 4.4 –°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã
- –°–ø–∏—Å–æ–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º
- –ö–Ω–æ–ø–∫–∞ ¬´–ó–∞–ø–∏—Å–∞—Ç—å—Å—è¬ª

### 4.5 –ú–æ—è –∑–∞–ø–∏—Å—å
- –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ **–ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ** –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–µ –ø—Ä–æ—à–µ–¥—à–∏–µ)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ã:** –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ 24 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞
- –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∫–ª–∏–µ–Ω—Ç–æ–º ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

### 4.6 –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ (—Å –∫–Ω–æ–ø–∫–∞–º–∏)
–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –¥–Ω–µ–≤–Ω–∏–∫–∞:
- **‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å** ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏
- **üìñ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∑–∞–ø–∏—Å–µ–π
- –ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–∑–∞–¥¬ª

### 4.7 –û–ø–ª–∞—Ç–∞
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–∞–∫ –∫–æ–ø–∏—Ä—É–µ–º—ã–π –∫–æ–¥)
2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
3. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ—Ç–æ ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Storage –∏ —Ç–∞–±–ª–∏—Ü—É payments
4. –£–≤–µ–¥–æ–º–∏—Ç—å –∞–¥–º–∏–Ω–∞ –æ –Ω–æ–≤–æ–π –æ–ø–ª–∞—Ç–µ

### 4.8 SOS
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
2. –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –¥–æ–≤–µ—Ä–∏—è
3. –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ sos_requests
4. –£–≤–µ–¥–æ–º–∏—Ç—å –∞–¥–º–∏–Ω–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞
5. –û–∂–∏–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

### 4.9 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ telegram_id)
- **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞** –Ω–∞ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –º–µ–Ω—é)

### 4.10 –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ (—á–µ—Ä–µ–∑ bot_settings)
- `waiting_diary` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –¥–Ω–µ–≤–Ω–∏–∫
- `waiting_payment` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –æ–ø–ª–∞—Ç—ã
- `waiting_sos` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è SOS

### 4.11 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏:** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- **–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∫–ª–∏–µ–Ω—Ç–æ–º:** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- **–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É

---

## 5. –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### 5.1 –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```
–í—ã –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é:
```

### 5.2 –°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã ‚Äî –µ—Å—Ç—å —Å–ª–æ—Ç—ã
```
üìÅ <b>–°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã:</b>

‚Ä¢ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
‚Ä¢ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
...

–î–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é"
```

### 5.3 –°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã ‚Äî –Ω–µ—Ç —Å–ª–æ—Ç–æ–≤
```
üòî –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–≤–æ–±–æ–¥–Ω—ã—Ö –¥–∞—Ç –Ω–µ—Ç.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
```

### 5.4 –ó–∞–ø–∏—Å–∞—Ç—å—Å—è ‚Äî –≤—ã–±–æ—Ä –¥–Ω—è
```
üóì <b>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</b>

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å:
```

### 5.5 –ó–∞–ø–∏—Å–∞—Ç—å—Å—è ‚Äî –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏
```
üïê <b>{–¥–∞—Ç–∞}</b>

–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è:

üè† ‚Äî –æ—á–Ω–æ, üíª ‚Äî –æ–Ω–ª–∞–π–Ω
```

### 5.6 –ó–∞–ø–∏—Å–∞—Ç—å—Å—è ‚Äî –Ω–µ—Ç —Å–ª–æ—Ç–æ–≤
```
üòî –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –Ω–µ—Ç.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º –Ω–∞–ø—Ä—è–º—É—é.
```

### 5.7 –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
```
üìç <b>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:</b>
```
–ö–Ω–æ–ø–∫–∏: `üè† –û—á–Ω–æ`, `üíª –û–Ω–ª–∞–π–Ω`

### 5.8 –£—Å–ø–µ—à–Ω–∞—è –∑–∞–ø–∏—Å—å
```
‚úÖ <b>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å!</b>

–§–æ—Ä–º–∞—Ç: {üíª –æ–Ω–ª–∞–π–Ω / üè† –æ—á–Ω–æ}

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–¥—É—Ç –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 1 —á–∞—Å –¥–æ —Å–µ—Å—Å–∏–∏.
```

### 5.9 –°–ª–æ—Ç —É–∂–µ –∑–∞–Ω—è—Ç
```
üòî –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —ç—Ç–æ –≤—Ä–µ–º—è —É–∂–µ –∑–∞–Ω—è—Ç–æ.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–ª–æ—Ç.
```

### 5.10 –ú–æ—è –∑–∞–ø–∏—Å—å ‚Äî –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏
```
üóì <b>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –∑–∞–ø–∏—Å–∏:</b>

üìå {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è} {—Ñ–æ—Ä–º–∞—Ç}

<i>–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å –º–æ–∂–Ω–æ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ 24 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞.</i>
```

### 5.11 –ú–æ—è –∑–∞–ø–∏—Å—å ‚Äî –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π
```
üóì <b>–ú–æ—è –∑–∞–ø–∏—Å—å</b>

–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞–ø–∏—Å–µ–π.

–•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é?
```

### 5.12 –ó–∞–ø–∏—Å—å –æ—Ç–º–µ–Ω–µ–Ω–∞ (–∫–ª–∏–µ–Ω—Ç–æ–º)
```
‚úÖ –ó–∞–ø–∏—Å—å –æ—Ç–º–µ–Ω–µ–Ω–∞.
```

### 5.13 –û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø–∏—Å–∏ (–º–µ–Ω–µ–µ 24 —á–∞—Å–æ–≤)
```
‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å –º–æ–∂–Ω–æ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ 24 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞
```

### 5.14 –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
```
üìí <b>–î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏</b>

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–≤–æ–∏ –º—ã—Å–ª–∏, –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è –∏–ª–∏ —Ç–æ, —á—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç. –≠—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –º–µ–∂–¥—É –Ω–∞–º–∏.
```
–ö–Ω–æ–ø–∫–∏: `‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å`, `üìñ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏`

### 5.15 –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
```
üìù <b>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</b>

–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –º—ã—Å–ª–∏, –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è –∏–ª–∏ —Ç–æ, —á—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç.

<i>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏.</i>
```

### 5.16 –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏
```
üìñ <b>–í–∞—à–∏ –∑–∞–ø–∏—Å–∏:</b>

üìù <b>{–¥–∞—Ç–∞}:</b>
{—Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏}

...
```

### 5.17 –ó–∞–ø–∏—Å—å –≤ –¥–Ω–µ–≤–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
```
‚úÖ –ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –¥–Ω–µ–≤–Ω–∏–∫.

–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏.
```

### 5.18 –û–ø–ª–∞—Ç–∞ ‚Äî –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
```
<code>{–Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫}</code>
```

### 5.19 –û–ø–ª–∞—Ç–∞ ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```
–≠—Ç–æ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –µ–≥–æ –º–æ–∂–Ω–æ —É–¥–æ–±–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ü—Ä–∏—à–ª–∏—Ç–µ –≤ —ç—Ç–æ—Ç –¥–∏–∞–ª–æ–≥ —Å–∫—Ä–∏–Ω—à–æ—Ç –æ–± –æ–ø–ª–∞—Ç–µ
```

### 5.20 –°–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω
```
‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω. –°–ø–∞—Å–∏–±–æ!
```

### 5.21 –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
```
‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.
```

### 5.22 SOS ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
```
üÜò <b>SOS-—Å–≤—è–∑—å —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º.</b>

–Ø –ø–µ—Ä–µ–¥–∞–ª –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ!
```

### 5.23 SOS ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
```
‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Å–∏—Ö–æ–ª–æ–≥—É.
```

### 5.24 –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```
‚õî –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.
```

### 5.25 –û—Ç–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
```

---

## 6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

### 6.1 –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å
```
üìÖ <b>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å!</b>

–ö–ª–∏–µ–Ω—Ç: {–∏–º—è} {username}
üÜî id: {telegram_id}

üìÜ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
{—Ñ–æ—Ä–º–∞—Ç}
```

### 6.2 –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–º
```
‚ùå <b>–ö–ª–∏–µ–Ω—Ç –æ—Ç–º–µ–Ω–∏–ª –∑–∞–ø–∏—Å—å</b>

–ö–ª–∏–µ–Ω—Ç: {–∏–º—è} {username}
üÜî id: {telegram_id}

üìÜ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
```

### 6.3 SOS-—Å–∏–≥–Ω–∞–ª
```
‚ö†Ô∏è <b>SOS-—Å–∏–≥–Ω–∞–ª</b>

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É SOS.

üÜî id: {telegram_id}
üë§ username: {username}
üìõ –ò–º—è: {first_name}

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram.
```

### 6.4 –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ SOS
```
üìù <b>–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ SOS</b>

–û—Ç: {first_name} ({username})
üÜî id: {telegram_id}

–°–æ–æ–±—â–µ–Ω–∏–µ:
{text}
```

### 6.5 –ù–æ–≤—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã
```
üí≥ <b>–ù–æ–≤—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã</b>

–û—Ç: {first_name} {username}
üÜî id: {telegram_id}
```

### 6.6 –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É)
```
‚ùå <b>–ó–∞–ø–∏—Å—å –æ—Ç–º–µ–Ω–µ–Ω–∞</b>

–í–∞—à–∞ –∑–∞–ø–∏—Å—å –Ω–∞ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è} –±—ã–ª–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.

–î–ª—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±–æ—Ç–∞.
```

### 6.7 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É)
```
üìÖ <b>–í–∞–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è!</b>

üìÜ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
{—Ñ–æ—Ä–º–∞—Ç}

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–¥—É—Ç –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 1 —á–∞—Å –¥–æ —Å–µ—Å—Å–∏–∏.
```

---

## 7. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### 7.1 –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 24 —á–∞—Å–∞
```
‚è∞ <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</b>

{first_name}, –∑–∞–≤—Ç—Ä–∞ —É –≤–∞—Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è!

üìÖ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}

–î–æ –≤—Å—Ç—Ä–µ—á–∏! üôå
```

### 7.2 –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 1 —á–∞—Å
```
‚è∞ <b>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</b>

{first_name}, —á–µ—Ä–µ–∑ 1 —á–∞—Å —É –≤–∞—Å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è!

üìÖ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}

–î–æ –≤—Å—Ç—Ä–µ—á–∏! üôå
```

---

## 8. Edge Functions

### 8.1 telegram-bot
- **–ü—É—Ç—å**: `POST /functions/v1/telegram-bot`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Webhook –¥–ª—è Telegram
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
  - `TELEGRAM_BOT_TOKEN`
  - `SUPABASE_URL`
  - `SUPABASE_SERVICE_ROLE_KEY`
  - `PROJECT_URL` (URL –∞–¥–º–∏–Ω–∫–∏)

### 8.2 send-reminders
- **–ü—É—Ç—å**: `POST /functions/v1/send-reminders`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 1 —á–∞—Å –¥–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- **–õ–æ–≥–∏–∫–∞**:
  1. –ù–∞–π—Ç–∏ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ bookings
  2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
     - –ï—Å–ª–∏ –∑–∞–≤—Ç—Ä–∞ –∏ reminder_24h_sent = false ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å 24—á –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
     - –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –∏ –¥–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ ~1 —á–∞—Å –∏ reminder_1h_sent = false ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å 1—á –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
  3. –ü–æ–º–µ—Ç–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–ª–∞–≥–∏ –∫–∞–∫ true
- **–ó–∞–ø—É—Å–∫**: –ü–æ cron –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

### 8.4 cleanup-sos
- **–ü—É—Ç—å**: `POST /functions/v1/cleanup-sos`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ SOS-—Å–æ–æ–±—â–µ–Ω–∏–π —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
- **–õ–æ–≥–∏–∫–∞**:
  1. –ù–∞–π—Ç–∏ –≤—Å–µ sos_requests —Å created_at —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
  2. –£–¥–∞–ª–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- **–ó–∞–ø—É—Å–∫**: –ü–æ cron –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00

### 8.3 cancel-booking-admin
- **–ü—É—Ç—å**: `POST /functions/v1/cancel-booking-admin`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{ slotId: string }`
- **–õ–æ–≥–∏–∫–∞**:
  1. –ù–∞–π—Ç–∏ —Å–ª–æ—Ç –∏ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
  2. –û–±–Ω–æ–≤–∏—Ç—å booking.status = 'canceled'
  3. –û–±–Ω–æ–≤–∏—Ç—å slot.status = 'free', –æ—á–∏—Å—Ç–∏—Ç—å client_id –∏ format
  4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É –≤ Telegram

### 8.5 book-for-client
- **–ü—É—Ç—å**: `POST /functions/v1/book-for-client`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{ clientId: string, date: string, time: string, format: string }`
- **–õ–æ–≥–∏–∫–∞**:
  1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
  2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–≤–æ–±–æ–¥–µ–Ω –ª–∏ —Å–ª–æ—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
  3. –ï—Å–ª–∏ —Å–ª–æ—Ç–∞ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
  4. –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ—Ç –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ bookings
  5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É –≤ Telegram –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É**:
  ```
  üìÖ <b>–í–∞–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è!</b>
  
  üìÜ {–¥–∞—Ç–∞} –≤ {–≤—Ä–µ–º—è}
  {—Ñ–æ—Ä–º–∞—Ç}
  
  –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–¥—É—Ç –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 1 —á–∞—Å –¥–æ —Å–µ—Å—Å–∏–∏.
  ```

---

## 9. –í–µ–±-–∞–¥–º–∏–Ω–∫–∞

### 9.1 –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –≤ localStorage

### 9.2 –í–∫–ª–∞–¥–∫–∏

#### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (SlotsManager)
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–ª–æ—Ç–∞: –≤—ã–±–æ—Ä –¥–∞—Ç—ã (–∫–∞–ª–µ–Ω–¥–∞—Ä—å) + –≤—Ä–µ–º–µ–Ω–∏ + **—Ñ–æ—Ä–º–∞—Ç–∞ (–æ—á–Ω–æ/–æ–Ω–ª–∞–π–Ω/–æ–±–∞)**
- –°–ø–∏—Å–æ–∫ —Å–ª–æ—Ç–æ–≤ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–∞–º
- –î–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö: –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- –î–ª—è –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö: –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞, —Ñ–æ—Ä–º–∞—Ç (üè†/üíª), —Å—Å—ã–ª–∫–∞ –Ω–∞ Telegram, –∫–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã

#### –ö–ª–∏–µ–Ω—Ç—ã (ClientsList)
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ê–≤–∞—Ç–∞—Ä (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∏–º–µ–Ω–∏)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –∏ –∑–∞–ø–∏—Å–µ–π –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:** –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞–∑–Ω–∞—á–∏—Ç—å¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å –≤—ã–±–æ—Ä–æ–º –¥–∞—Ç—ã, –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∞
- –ü–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

#### –î–Ω–µ–≤–Ω–∏–∫ (DiaryEntries)
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –¥–Ω–µ–≤–Ω–∏–∫–∞
- –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞, –¥–∞—Ç–∞, —Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏

#### –û–ø–ª–∞—Ç—ã (PaymentScreenshots)
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –æ–ø–ª–∞—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
- –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞, —Å—Å—ã–ª–∫–∞ –Ω–∞ Telegram
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã** –¥–ª—è –æ–ø–ª–∞—Ç—ã

#### SOS (SosRequests)
- –ù–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Å –∫—Ä–∞—Å–Ω–æ–π —Ä–∞–º–∫–æ–π)
- –ö–Ω–æ–ø–∫–∞ ¬´–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–µ¬ª
- –ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–ø–∏—Å–∞—Ç—å¬ª ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ Telegram-—á–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (ThemeSettings)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã: —Å–≤–µ—Ç–ª–∞—è / —Ç—ë–º–Ω–∞—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

---

## 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å:
```
https://api.telegram.org/bot{TOKEN}/setWebhook?url={SUPABASE_URL}/functions/v1/telegram-bot
```

---

## 11. RLS –ø–æ–ª–∏—Ç–∏–∫–∏

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å:
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è service role
- –ß—Ç–µ–Ω–∏–µ –¥–ª—è anon (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)
- –î–ª—è slots –∏ sos_requests: update –¥–ª—è anon
- –î–ª—è payments: delete –¥–ª—è anon
- –î–ª—è clients: update –¥–ª—è anon (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–Ω–∏)

---

## 12. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Secrets)

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| TELEGRAM_BOT_TOKEN | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather |
| SUPABASE_URL | URL Supabase –ø—Ä–æ–µ–∫—Ç–∞ |
| SUPABASE_SERVICE_ROLE_KEY | Service role –∫–ª—é—á |
| PROJECT_URL | URL –≤–µ–±-–∞–¥–º–∏–Ω–∫–∏ |

---

## 13. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –∫–æ–¥–µ

| –ù–∞–∑–≤–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| ADMIN_TELEGRAM_ID | 783321437 | Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |

---

## 14. –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é (callback_data)

| –ö–Ω–æ–ø–∫–∞ | callback_data |
|--------|---------------|
| –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é | `book_session` |
| –°–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã | `free_slots` |
| –ú–æ—è –∑–∞–ø–∏—Å—å | `my_bookings` |
| –î–Ω–µ–≤–Ω–∏–∫ —Ç–µ—Ä–∞–ø–∏–∏ | `diary` |
| –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å (–¥–Ω–µ–≤–Ω–∏–∫) | `diary_add` |
| –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏ (–¥–Ω–µ–≤–Ω–∏–∫) | `diary_view` |
| –û–ø–ª–∞—Ç–∞ | `payment` |
| SOS | `sos` |
| –í—ã–±–æ—Ä –¥–∞—Ç—ã | `select_date_{date}` |
| –í—ã–±–æ—Ä —Å–ª–æ—Ç–∞ | `select_slot_{id}` |
| –ë—Ä–æ–Ω—å –æ—á–Ω–æ | `book_offline_{id}` |
| –ë—Ä–æ–Ω—å –æ–Ω–ª–∞–π–Ω | `book_online_{id}` |
| –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏ | `cancel_{id}` |
| –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | `main_menu` |

---

## 15. –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø–∏—Å–∏

| –ö—Ç–æ –æ—Ç–º–µ–Ω—è–µ—Ç | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |
|--------------|-------------|-------------|
| –ö–ª–∏–µ–Ω—Ç | –ù–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ 24 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É |
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –í –ª—é–±–æ–µ –≤—Ä–µ–º—è | –ö–ª–∏–µ–Ω—Ç—É |
